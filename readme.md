<!-- AUTO-GENERATED-CONTENT:START (STARTER) -->
<p align="center">
  <a href="https://www.gatsbyjs.com">
    <img alt="Gatsby" src="https://www.gatsbyjs.com/Gatsby-Monogram.svg" width="60" />
  </a>
</p>
<h1 align="center">
  Gatsby TypeScript + AWS Amplify + Github Actions
</h1>

Opinionated Gatsby starter with Github Workflow Actions for AWS Amplify CI/CD. Uses TypeScript configuration and react component rendering tree by default.

## Changelog

This project has been bootstrapped with ``gatsby new`` using the default starter and modified to output a placeholder component.

* [x] Defaults `gatsby-config` to TypeScript variant
* [x] React App component rendering tree using ``Index -> App -> Layout``
* [x] Placeholder `styled-components` layout
* [x] AWS Amplify with Github Actions CI/CD Workflow

For more details on the boilerplate, see [readme.gatsby.md](readme.gatsby.md).


## Github Actions Workflow for AWS Amplify

Automatic CI/CD build and deploy can be activated to publish on AWS Amplify instances using the provided configuration.

See example workflow action provided in [github](github/workflows/aws-amplify-deploy.yml) path.

1. Configure IAM deployment: generate the key secrets using ``amplify init`` or define your own policy using the AWS console.
    * Ensure default region selection set to fully-supported zones such as ``us-east-1`` using ``amplify configure`` command.

2. Configure new endpoint stack by calling the commands: ``amplify init`` and ``amplify hosting add``.
    * Select the `manual` deployment option when prompted to allow handling of CI/CD pipelines by Github Actions instead of AWS Amplify Console.

3. Set the build and run commands to in [project-config.json](amplify/.config/project-config.json) generated by amplify to prevent project rebuild of Github output.

    ```json
    {
      "BuildCommand": "echo '[AWS Amplify]: Deploy Output'",
      "StartCommand": ""
    }
    ```
4. Customize the [Github Workflow](github/workflows/aws-amplify-deploy.yml) build time steps to your project.

5. Declare the following secrets as build time environment variables in Github repo settings.

    ```text
    PACKAGES_TOKEN={{secret}}
    AWS_ACCESS_KEY_ID={{secret}}
    AWS_SECRET_ACCESS_KEY={{secret}}
    ```

6. Rename ``github`` to ``.github`` to activate workflow and push to git

## License

This project is available under the [MIT License](license.md).